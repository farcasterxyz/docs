---
outline: [2, 3]
---

# 存储注册表

存储注册表允许 Farcaster 账户在网络中租用一个或多个存储"单元"。

如果你想为 Farcaster 账户租用存储空间，请使用存储注册表。

## 读取

### unitPrice

获取注册 1 个存储单元所需的价格（以 wei 为单位，`uint256` 类型）。

### price

获取注册指定数量存储单元所需的价格（以 wei 为单位，`uint256` 类型）。

| 参数名称 | 类型      | 描述                   |
| -------- | --------- | ---------------------- |
| units    | `uint256` | 需要租用的存储单元数量 |

## 写入

### rent

为指定的 fid 租用特定数量的存储单元。多余的以太币将退还给调用者。租用的存储单元自注册之日起 1 年内有效。

| 参数名称    | 类型      | 描述                   |
| ----------- | --------- | ---------------------- |
| `msg.value` | `wei`     | 支付金额               |
| fid         | `uint256` | 需要分配存储单元的 fid |
| units       | `uint256` | 需要租用的存储单元数量 |

### batchRent

在一次交易中为多个 fid 租用存储空间。调用者必须发送足够的以太币以支付所有存储单元的总费用。与单次租用类似，多余的以太币将被退还，且存储单元有效期为 1 年。

| 参数名称    | 类型        | 描述                                                  |
| ----------- | ----------- | ----------------------------------------------------- |
| `msg.value` | `wei`       | 总支付金额                                            |
| fids        | `uint256[]` | fid 数组                                              |
| units       | `uint256[]` | 存储单元数量数组，与 `fids` 数组中的每个 fid 一一对应 |

## 错误

| 错误类型          | 选择器     | 描述                                             |
| ----------------- | ---------- | ------------------------------------------------ |
| InvalidPayment    | `3c6b4b28` | 调用者提供的以太币不足以支付请求的存储单元数量。 |
| InvalidBatchInput | `0a514b99` | 调用者提供的 `fids` 和 `units` 数组长度不匹配。  |

## 源代码

[`StorageRegistry.sol`](https://github.com/farcasterxyz/contracts/blob/1aceebe916de446f69b98ba1745a42f071785730/src/validators/StorageRegistry.sol)
